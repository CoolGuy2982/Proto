<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proto - Collaborative AI Tool</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter for UI & Playfair Display for the welcome message -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500&display=swap" rel="stylesheet">

    <!-- Boxicons for high-quality iconography -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    
    <style>
        /* Applying the Inter font and a very light grey background */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
        }

        /* Applying the elegant Playfair Display font to the welcome message */
        .font-fancy {
            font-family: 'Playfair Display', serif;
        }

        /* More expansive and prominent "dancing" animation for the gradient blobs, using percentages for responsiveness */
        @keyframes dance {
            0% { transform: translate(0%, 0%) scale(1) rotate(0deg); }
            25% { transform: translate(60%, 80%) scale(1.3) rotate(90deg); }
            50% { transform: translate(-10%, 40%) scale(0.8) rotate(180deg); }
            75% { transform: translate(30%, 0%) scale(1.2) rotate(270deg); }
            100% { transform: translate(0%, 0%) scale(1) rotate(360deg); }
        }
        .animate-dance { animation: dance 15s infinite cubic-bezier(0.36, 0, 0.64, 1); }
        .animation-delay-4000 { animation-delay: -4s; }
        .animation-delay-8000 { animation-delay: -8s; }
        .animation-delay-12000 { animation-delay: -12s; }

        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #9ca3af; }

    </style>
</head>
<body class="relative overflow-hidden">
    <!-- Background gradient blobs for the overall page aesthetic -->
    <div class="absolute top-0 -left-1/3 w-96 h-96 bg-yellow-200/30 rounded-full filter blur-3xl opacity-50 animate-dance"></div>
    <div class="absolute top-0 -right-1/3 w-96 h-96 bg-slate-200/30 rounded-full filter blur-3xl opacity-50 animate-dance animation-delay-4000"></div>
    <div class="absolute -bottom-16 left-1/4 w-96 h-96 bg-yellow-100/30 rounded-full filter blur-3xl opacity-50 animate-dance animation-delay-8000"></div>

    <!-- 
      Welcome Screen: Asks for the user's name.
    -->
    <div id="welcome-screen" class="relative min-h-screen w-full flex items-center justify-center p-4">
        <div class="w-full max-w-md mx-auto bg-white/60 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/30">
            <div class="p-8 md:p-12 text-center text-slate-900">
                <h1 class="text-4xl md:text-5xl font-bold tracking-tighter">Welcome to Proto</h1>
                <p class="mt-4 text-slate-600">What should we call you?</p>
                <div class="mt-8 text-left">
                    <label for="name-input" class="text-sm font-medium text-slate-700">First Name</label>
                    <input id="name-input" type="text" class="mt-1 block w-full px-4 py-3 bg-white/80 border border-slate-300 rounded-lg shadow-sm placeholder-slate-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500" placeholder="e.g., Jane">
                </div>
                <button id="continue-btn" class="mt-6 w-full bg-slate-900 text-white py-3 px-6 rounded-lg font-semibold hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-slate-900 focus:ring-opacity-50 transition-all duration-300 transform hover:scale-105">
                    Continue
                </button>
            </div>
        </div>
    </div>

    <!-- 
      Main Application UI: The 60/40 layout.
    -->
    <main id="main-app" class="hidden relative h-screen w-full p-4 flex gap-4">
        <!-- Left Pane (60% width): Top Welcome Message & Centered Prompts -->
        <section class="w-[60%] h-full bg-white/60 backdrop-blur-xl rounded-2xl shadow-xl border border-white/30 p-6 flex flex-col justify-start items-center relative overflow-hidden pt-12">
            <!-- Larger, more prominent dancing Gradient Blobs -->
            <div class="absolute top-[-10rem] left-[-15rem] w-[32rem] h-[32rem] bg-yellow-300/40 rounded-full filter blur-3xl animate-dance"></div>
            <div class="absolute bottom-[-10rem] right-[-15rem] w-[32rem] h-[32rem] bg-slate-300/40 rounded-full filter blur-3xl animate-dance animation-delay-4000"></div>
            <div class="absolute top-[20%] right-[-10rem] w-[28rem] h-[28rem] bg-amber-200/40 rounded-full filter blur-3xl animate-dance animation-delay-8000"></div>
            <div class="absolute bottom-[5%] left-[5%] w-[24rem] h-[24rem] bg-stone-300/40 rounded-full filter blur-3xl animate-dance animation-delay-12000"></div>
            
            <!-- Personalized Welcome Message at the top -->
            <div id="welcome-message" class="font-fancy text-5xl font-medium text-slate-800 tracking-tight z-10 text-shadow">
                <!-- Content will be set by JavaScript -->
            </div>
            
            <!-- Suggested Prompts in the center -->
            <div class="flex-grow w-full flex flex-col items-center justify-center gap-4 z-10">
                <button class="bg-white/40 backdrop-blur-md border border-white/50 rounded-xl px-6 py-3 text-slate-800 font-medium hover:bg-white/60 transition-all duration-200 w-full max-w-sm text-left flex items-center gap-4">
                    <i class='bx bxs-camera-movie text-xl'></i>
                    <span>Share Your Screen</span>
                </button>
                <button class="bg-white/40 backdrop-blur-md border border-white/50 rounded-xl px-6 py-3 text-slate-800 font-medium hover:bg-white/60 transition-all duration-200 w-full max-w-sm text-left flex items-center gap-4">
                    <i class='bx bxs-calendar-plus text-xl'></i>
                    <span>Add all my assignments to my calendar</span>
                </button>
                <button class="bg-white/40 backdrop-blur-md border border-white/50 rounded-xl px-6 py-3 text-slate-800 font-medium hover:bg-white/60 transition-all duration-200 w-full max-w-sm text-left flex items-center gap-4">
                    <i class='bx bxs-file-doc text-xl'></i>
                    <span>Summarize this page</span>
                </button>
            </div>

        </section>

        <!-- Right Pane (40% width): Chat and Screen Share -->
        <section class="w-[40%] h-full flex flex-col gap-4">
            <!-- Top Right: AI Chat with updated UI -->
            <div class="h-1/2 bg-white/60 backdrop-blur-xl rounded-2xl shadow-xl border border-white/30 p-4 flex flex-col">
                <h3 class="text-lg font-semibold text-slate-800 mb-2 px-2">AI Assistant</h3>
                <div id="chat-messages" class="flex-1 overflow-y-auto pr-2 space-y-4 py-2">
                    <!-- AI Message (Left-aligned) -->
                    <div class="flex justify-start">
                        <p class="max-w-[85%] text-slate-800 font-semibold text-left">Hello! How can I help you design today?</p>
                    </div>

                    <!-- User Message (Right-aligned, no PFP) -->
                    <div class="flex justify-end">
                        <p class="max-w-[85%] text-slate-700 text-right">Create a login button for me.</p>
                    </div>
                </div>
                <div class="mt-2 flex items-center gap-2">
                    <input type="text" placeholder="Ask Proto AI..." class="flex-1 w-full px-4 py-2 bg-white/80 border border-slate-300 rounded-full shadow-sm placeholder-slate-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500">
                    <button class="bg-slate-900 text-white rounded-full h-10 w-10 flex items-center justify-center hover:bg-slate-800 transition-colors flex-shrink-0">
                        <i class='bx bxs-up-arrow-alt text-xl'></i>
                    </button>
                </div>
            </div>
            <!-- Bottom Right: Screen Share -->
            <div class="h-1/2 bg-white/60 backdrop-blur-xl rounded-2xl shadow-xl border border-white/30 p-4 flex flex-col justify-between">
                 <h3 class="text-lg font-semibold text-slate-800">Collaboration</h3>
                 <div id="screen-share-container" class="flex-1 flex items-center justify-center my-4">
                    <button id="share-btn" class="flex items-center gap-2 bg-slate-900 text-white py-3 px-6 rounded-lg font-semibold hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-slate-900 focus:ring-opacity-50 transition-all duration-300">
                        <i class='bx bxs-camera-movie'></i>
                        <span>Share Screen</span>
                    </button>
                    <div id="video-wrapper" class="hidden w-full h-full p-1 bg-slate-200/50 rounded-lg">
                        <video id="screen-video" class="w-full h-full object-cover rounded-md" autoplay muted playsinline></video>
                    </div>
                 </div>
                 <p class="text-xs text-slate-500 text-center">Share your screen to collaborate with the AI or team members in real-time.</p>
            </div>
        </section>
    </main>

    <script>
        // DOM element references
        const welcomeScreen = document.getElementById('welcome-screen');
        const mainApp = document.getElementById('main-app');
        const nameInput = document.getElementById('name-input');
        const continueBtn = document.getElementById('continue-btn');
        const shareBtn = document.getElementById('share-btn');
        const screenVideo = document.getElementById('screen-video');
        const videoWrapper = document.getElementById('video-wrapper');
        const welcomeMessage = document.getElementById('welcome-message');

        // --- Application Logic ---

        const showMainApp = (name) => {
            // Set the personalized welcome message
            welcomeMessage.textContent = `Welcome, ${name}`;
            
            welcomeScreen.classList.add('hidden');
            mainApp.classList.remove('hidden');
        };

        continueBtn.addEventListener('click', () => {
            const userName = nameInput.value.trim();
            if (userName) {
                localStorage.setItem('protoUserName', userName);
                showMainApp(userName);
            } else {
                nameInput.classList.add('border-red-500', 'ring-red-500');
            }
        });

        nameInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                continueBtn.click();
            }
        });

        shareBtn.addEventListener('click', async () => {
            try {
                const stream = await navigator.mediaDevices.getDisplayMedia({
                    video: { cursor: "always" },
                    audio: false
                });

                screenVideo.srcObject = stream;
                
                shareBtn.classList.add('hidden');
                videoWrapper.classList.remove('hidden');

                stream.getVideoTracks()[0].addEventListener('ended', () => {
                    shareBtn.classList.remove('hidden');
                    videoWrapper.classList.add('hidden');
                    screenVideo.srcObject = null;
                });

            } catch (err) {
                console.error("Screen Share Error:", err);
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            const savedName = localStorage.getItem('protoUserName');
            if (savedName) {
                showMainApp(savedName);
            }
        });
    </script>
</body>
</html>


